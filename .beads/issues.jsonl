{"id":"jsnore-1br","title":"Optimize constant-prefix trie coverage checks (avoid Set allocations)","description":"`isCandidateCoveredByConstantPrefix` in deriveMask uses Set allocations per segment. Replace with array-based worklists with manual dedupe to reduce allocations and improve runtime, keeping semantics identical. Verify tests and re-benchmark on the 13MB fixture.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:08:08.634377509+07:00","updated_at":"2025-12-15T11:09:38.475628463+07:00","closed_at":"2025-12-15T11:09:38.475628463+07:00","dependencies":[{"issue_id":"jsnore-1br","depends_on_id":"jsnore-3qz","type":"discovered-from","created_at":"2025-12-15T11:08:08.640895454+07:00","created_by":"daemon"}]}
{"id":"jsnore-1ze","title":"Optimize candidate generation and constancy traversal (no semantics change)","description":"Implement low-hanging perf wins without changing semantics: reduce wildcard candidate explosion using trie-based redundancy pruning, and speed up constancy traversal by avoiding generator recursion / key array allocation. Verify with unit tests and re-benchmark the 13MB fixture.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T10:42:47.715944581+07:00","updated_at":"2025-12-15T10:50:21.578757956+07:00","closed_at":"2025-12-15T10:50:21.578757956+07:00","dependencies":[{"issue_id":"jsnore-1ze","depends_on_id":"jsnore-7pz","type":"discovered-from","created_at":"2025-12-15T10:42:47.747167903+07:00","created_by":"daemon"}]}
{"id":"jsnore-3qz","title":"Use constant-candidate trie for leaf filtering (avoid O(leaves × constants))","description":"`deriveMask` currently filters leaf paths by scanning every constant candidate with `some(matchesPrefix(...))`, which is O(leaves×constants). Reuse the constant-prefix trie to check coverage per leaf path in O(path length), keeping semantics identical. Re-run tests and benchmark on the 13MB fixture.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T10:53:55.001527506+07:00","updated_at":"2025-12-15T10:55:37.941596311+07:00","closed_at":"2025-12-15T10:55:37.941596311+07:00","dependencies":[{"issue_id":"jsnore-3qz","depends_on_id":"jsnore-1ze","type":"discovered-from","created_at":"2025-12-15T10:53:55.02486001+07:00","created_by":"daemon"}]}
{"id":"jsnore-4fc","title":"Archive OpenSpec change add-json-slimmer","description":"Now that `add-json-slimmer` is complete, archive it under `openspec/changes/archive/` and run `openspec validate --strict` to confirm everything still passes.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-15T09:52:30.861851639+07:00","updated_at":"2025-12-15T09:53:02.03730167+07:00","closed_at":"2025-12-15T09:53:02.03730167+07:00"}
{"id":"jsnore-581","title":"Write OpenSpec proposal for missing semantics toggle","description":"Create an OpenSpec change bundle describing the new runtime option/CLI flag to treat missing as distinct vs ignore during constancy evaluation. Update specs `derive-json-mask` and `json-slim-cli`, add scenarios, and validate with `openspec validate \u003cchange-id\u003e --strict`.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T10:22:42.888737643+07:00","updated_at":"2025-12-15T10:24:42.188444312+07:00","closed_at":"2025-12-15T10:24:42.188444312+07:00","dependencies":[{"issue_id":"jsnore-581","depends_on_id":"jsnore-5tt","type":"parent-child","created_at":"2025-12-15T10:22:42.892544255+07:00","created_by":"daemon"}]}
{"id":"jsnore-5tt","title":"Add runtime toggle for missing semantics (distinct vs ignore)","description":"Introduce an option/flag to control whether missing values are treated as distinct (current behavior) or ignored when evaluating constancy, so users can choose between preserving presence signals vs aggressively removing fields constant among present occurrences. Requires an OpenSpec change proposal before implementation.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-15T10:22:38.463628581+07:00","updated_at":"2025-12-15T10:22:38.463628581+07:00"}
{"id":"jsnore-695","title":"Add property test for removing injected redundant key","description":"Add a minitsis property test that generates random-ish JSON trees (under items array), injects a constant `{is:\"removable\"}` at a wildcard-matched path at least n times under key `removable`, and asserts `deriveMask` with minHits=n removes only that injected key (structure otherwise preserved).","acceptance_criteria":"- New property test passes locally\n- `npm run test:prop` and `npm run test:coverage` remain green","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T09:37:52.222107642+07:00","updated_at":"2025-12-15T09:41:19.038791407+07:00","closed_at":"2025-12-15T09:41:19.038791407+07:00"}
{"id":"jsnore-7pz","title":"Speed up deriveMask on large JSON inputs (avoid materializing wildcard expansions)","description":"Profiling `npm run -s cli -- --mask` on a 13MB fixture shows constancy evaluation (`gatherInstanceValues`) dominates runtime and allocates large intermediate arrays. Implement a streaming constancy check for deriveMask and prune redundant candidate checks; verify speed and memory improvements on the fixture.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T10:11:08.704446325+07:00","updated_at":"2025-12-15T10:11:38.135384228+07:00","closed_at":"2025-12-15T10:11:38.135384228+07:00"}
{"id":"jsnore-852","title":"Reduce JSON.stringify overhead in path dedupe/sorting","description":"Further optimize performance by removing repeated `JSON.stringify(path)` calls used for dedupe/sorting in candidate generation and derived keep-path dedupe. Replace with a cheap stable internal encoding and precompute sort keys. Re-run tests and benchmark on the 13MB fixture.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:01:06.031433646+07:00","updated_at":"2025-12-15T11:04:39.504745922+07:00","closed_at":"2025-12-15T11:04:39.504745922+07:00","dependencies":[{"issue_id":"jsnore-852","depends_on_id":"jsnore-3qz","type":"discovered-from","created_at":"2025-12-15T11:01:06.038052203+07:00","created_by":"daemon"}]}
{"id":"jsnore-9ks","title":"Sync OpenSpec change bundle with implementation (mark tasks done, resolve open questions, validate)","description":"The OpenSpec change `openspec/changes/add-json-slimmer/` still shows 0/14 tasks and has unresolved open questions, even though the implementation appears complete and tests pass. Update `proposal.md` to resolve open questions, update `tasks.md` checkboxes to reflect completed work, and re-run `openspec validate add-json-slimmer --strict`.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T09:51:11.386554235+07:00","updated_at":"2025-12-15T09:52:01.342933436+07:00","closed_at":"2025-12-15T09:52:01.342933436+07:00","dependencies":[{"issue_id":"jsnore-9ks","depends_on_id":"jsnore-vsh","type":"discovered-from","created_at":"2025-12-15T09:51:11.390563653+07:00","created_by":"daemon"}]}
{"id":"jsnore-a7y","title":"Run property tests as part of npm test","description":"Ensure minitsis property tests run as part of the normal test suite (`npm test`), so they cannot be skipped accidentally.","acceptance_criteria":"- `npm test` runs vitest unit tests and `npm run test:prop`\n- `MINITSIS_RUNS=... npm test` propagates to property tests\n- CI-friendly output remains reasonable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T09:44:12.578027235+07:00","updated_at":"2025-12-15T09:48:18.52321822+07:00","closed_at":"2025-12-15T09:48:18.52321822+07:00"}
{"id":"jsnore-aey","title":"Create GitHub repo lambdamechanic/jsnore and add CI caching workflow","description":"Create the GitHub repository under `lambdamechanic/jsnore`, add a GitHub Actions CI workflow with dependency caching (npm), and push the codebase (excluding `node_modules/`).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T09:55:31.310739828+07:00","updated_at":"2025-12-15T10:00:28.615414664+07:00","closed_at":"2025-12-15T10:00:28.615414664+07:00"}
{"id":"jsnore-aw4","title":"Finalize OpenSpec specs created during archive (fill in Purpose sections)","description":"`openspec archive` created new specs `derive-json-mask` and `json-slim-cli` with placeholder `TBD` Purpose text. Replace placeholders with real Purpose statements and re-run `openspec validate --specs --strict`.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-15T09:53:30.732728668+07:00","updated_at":"2025-12-15T09:54:01.136724399+07:00","closed_at":"2025-12-15T09:54:01.136724399+07:00"}
{"id":"jsnore-jqy","title":"Make property test run count configurable","description":"Allow running `npm run test:prop` with a higher iteration count (e.g. 1000) without editing source, via env var.","acceptance_criteria":"- `MINITSIS_RUNS=1000 npm run test:prop` runs 1000 iterations per property test\n- Default behavior unchanged (200 runs)\n- Tests still pass","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-15T09:23:09.45293026+07:00","updated_at":"2025-12-15T09:23:35.931544839+07:00","closed_at":"2025-12-15T09:23:35.931544839+07:00"}
{"id":"jsnore-vsh","title":"Add TypeScript CLI/library to derive slim JSON projections","description":"Build a TypeScript library and CLI that derives a json-mask projection to slim a single JSON document by removing fields that are constant across wildcard-expanded paths (json-mask semantics).","design":"Refined requirements: single JSON doc; library returns json-mask projection; CLI outputs slimmed JSON by default and mask with --mask; support multiple wildcards with no configured max (can be fully wildcarded); treat missing as distinct from present; allow constant detection for container values; always wildcard array indices (no index specialization).","acceptance_criteria":"- Library exports API to derive json-mask projection from a JS value/JSON doc\\n- CLI can output derived mask OR output slimmed JSON by applying it\\n- Supports multiple wildcards and array index wildcarding\\n- Supports --min-hits (default 5) and config options\\n- Includes tests + docs","notes":"Refined proposal: derived mask emitted as a single json-mask expression string with parentheses grouping when possible; implement json-mask escaping rules for reserved characters; CLI reads input JSON from stdin or first positional arg; slim output supports --pretty and --compact.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-15T07:51:54.402307487+07:00","updated_at":"2025-12-15T09:19:23.479463014+07:00","closed_at":"2025-12-15T09:19:23.479463014+07:00"}
{"id":"jsnore-vsh.1","title":"Scaffold TypeScript workspace (library + CLI)","description":"Create a Node+TypeScript monorepo (or simple workspace) containing a library package and a CLI package. The CLI should depend on the library and be runnable via a bin entry.","design":"Keep CLI thin; core logic lives in library. Use Vitest for unit tests + enforce 100% coverage thresholds.","acceptance_criteria":" - Vitest is set up for unit tests and coverage reporting\n- Coverage thresholds are enforced at 100% for lines/branches/functions/statements\n- A test coverage command exists (e.g. npm run test:coverage) and fails if coverage \u003c 100%\n- A regular test command exists (e.g. npm test)\n- A build command exists (e.g. npm run build) and produces artifacts\n- CLI can be invoked locally during development","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-15T08:08:59.723894736+07:00","updated_at":"2025-12-15T08:25:43.641227502+07:00","closed_at":"2025-12-15T08:25:43.641227502+07:00","dependencies":[{"issue_id":"jsnore-vsh.1","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.724908583+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.10","title":"Add tests (unit + CLI smoke) for derivation, escaping, grouping, and modes","description":"Add tests for core library behavior and CLI modes. Prefer property tests using minitsis + minitsis-node for core invariants and degenerate inputs; use classic unit tests only for a few basic helpers and CLI wiring/smoke coverage.","design":"Testing strategy: property tests first. Keep example/unit tests minimal and focused on CLI wiring and a few basic helpers. Prefer generating arbitrary JSON values + path shapes to validate invariants.","acceptance_criteria":"- Property tests (minitsis + minitsis-node) exist for core invariants (determinism, missing-vs-present differences, index wildcarding, escaping round-trip via json-mask, container removal)\\n- Minimal CLI smoke tests cover stdin/file input, --mask, default slim output, and --apply-mask\\n- Vitest coverage thresholds are enforced at 100% for lines/branches/functions/statements\\n- CI-local test command(s) documented and passing","status":"closed","priority":1,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-15T08:09:00.040122898+07:00","updated_at":"2025-12-15T09:17:27.161797424+07:00","closed_at":"2025-12-15T09:17:27.161797424+07:00","dependencies":[{"issue_id":"jsnore-vsh.10","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:09:00.041841993+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.10","depends_on_id":"jsnore-vsh.9","type":"blocks","created_at":"2025-12-15T08:09:18.499070053+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.10","depends_on_id":"jsnore-vsh.8","type":"blocks","created_at":"2025-12-15T08:09:18.547272883+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.10","depends_on_id":"jsnore-vsh.12","type":"blocks","created_at":"2025-12-15T08:13:43.493367995+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.10","depends_on_id":"jsnore-vsh.13","type":"blocks","created_at":"2025-12-15T08:15:05.458913281+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.11","title":"Document usage (README) with examples","description":"Write user-facing docs explaining what jsnore does, how masks are derived, and how to use the CLI and library (including escaping caveats and examples).","design":"Keep examples minimal and copy-pasteable.","acceptance_criteria":"- README shows CLI examples for derive+slim, `--mask`, `--apply-mask`\n- README shows library API usage example\n- Notes on missing semantics and container removal","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-15T08:09:00.075970341+07:00","updated_at":"2025-12-15T09:18:56.612259216+07:00","closed_at":"2025-12-15T09:18:56.612259216+07:00","dependencies":[{"issue_id":"jsnore-vsh.11","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:09:00.07769798+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.11","depends_on_id":"jsnore-vsh.8","type":"blocks","created_at":"2025-12-15T08:09:18.595877924+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.12","title":"Set up property testing (minitsis + minitsis-node)","description":"Add property-testing tooling to the TypeScript workspace using minitsis and minitsis-node, including a runnable property-test command and an example property test. This is the preferred test style for core library behavior.","design":"This is required for core invariant/property tests (degenerate paths, missing-vs-present, container equality, escaping).","acceptance_criteria":"- minitsis and minitsis-node are added to the workspace dev dependencies\\n- Property tests can be run in CI/local via a documented npm script\\n- At least one example property test runs green","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-15T08:13:23.080691199+07:00","updated_at":"2025-12-15T08:35:01.983164406+07:00","closed_at":"2025-12-15T08:35:01.983164406+07:00","dependencies":[{"issue_id":"jsnore-vsh.12","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:13:23.082809821+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.12","depends_on_id":"jsnore-vsh.1","type":"blocks","created_at":"2025-12-15T08:13:43.48349418+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.13","title":"Set up Vitest coverage gate (100%)","description":"Configure Vitest coverage provider and enforce 100% thresholds (lines/branches/functions/statements) for the workspace; provide a stable test:coverage script.","design":"Keep this separate from writing tests so coverage gating is explicit and can block later test work.","acceptance_criteria":"- Vitest coverage is enabled and reports lines/branches/functions/statements\\n- Thresholds are set to 100% for all four metrics\\n- A command/script exists to run coverage in CI (e.g. npm run test:coverage)\\n- The command fails when any metric drops below 100%","status":"closed","priority":1,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-15T08:15:00.237128197+07:00","updated_at":"2025-12-15T08:26:14.693945805+07:00","closed_at":"2025-12-15T08:26:14.693945805+07:00","dependencies":[{"issue_id":"jsnore-vsh.13","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:15:00.237727361+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.13","depends_on_id":"jsnore-vsh.1","type":"blocks","created_at":"2025-12-15T08:15:05.411240929+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.2","title":"Implement json-mask path escaping + joining","description":"Implement utilities to render path segments into `json-mask` syntax, including escaping reserved characters per json-mask rules, and joining segments with `/` and wildcard `*`.","design":"Validate escaping by applying derived masks using the `json-mask` npm package.","acceptance_criteria":"- Escapes keys with `/` using json-mask-compatible escape sequences\n- Unit tests cover reserved characters and round-trip application via `json-mask`","status":"closed","priority":1,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-15T08:08:59.740539881+07:00","updated_at":"2025-12-15T08:29:56.608541255+07:00","closed_at":"2025-12-15T08:29:56.608541255+07:00","dependencies":[{"issue_id":"jsnore-vsh.2","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.741260093+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.2","depends_on_id":"jsnore-vsh.1","type":"blocks","created_at":"2025-12-15T08:09:18.303520342+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.3","title":"Enumerate concrete paths (containers + leaves) with missing sentinel semantics","description":"Walk a single JSON document and enumerate concrete paths for objects, arrays, and leaf values. Array indices must be normalized to wildcard segments (`*`) for purposes of generalized path reasoning (no index specialization). Also define how to represent missing during wildcard evaluation.","design":"Maintain a clear internal path representation (segments + kind).","acceptance_criteria":"- Enumerates object/array container nodes and leaf values\n- Produces stable, deterministic ordering\n- Defines a sentinel for missing and treats missing-vs-present as different (missing-vs-missing equal)","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-15T08:08:59.758275481+07:00","updated_at":"2025-12-15T08:31:34.367830343+07:00","closed_at":"2025-12-15T08:31:34.367830343+07:00","dependencies":[{"issue_id":"jsnore-vsh.3","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.759227556+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.3","depends_on_id":"jsnore-vsh.1","type":"blocks","created_at":"2025-12-15T08:09:18.313246819+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.4","title":"Generate generalized wildcard candidate paths (multiple wildcards, deduped)","description":"From concrete paths, generate candidate generalized paths by replacing one or more path segments with `*` (including allowing every segment to be `*`). Deduplicate candidates and keep output deterministic.","design":"Start straightforward; optimize later if needed.","acceptance_criteria":"- Supports multiple wildcards with no configured maximum\n- Deterministically dedupes candidates\n- Does not generate index-specialized segments","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-15T08:08:59.781707049+07:00","updated_at":"2025-12-15T08:37:21.883997702+07:00","closed_at":"2025-12-15T08:37:21.883997702+07:00","dependencies":[{"issue_id":"jsnore-vsh.4","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.782774042+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.4","depends_on_id":"jsnore-vsh.3","type":"blocks","created_at":"2025-12-15T08:09:18.323135381+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.5","title":"Evaluate candidates for constancy (minHits + deep equality + missing)","description":"For each generalized candidate path, gather instance values across wildcard expansions. Treat missing as distinct from present, and missing-vs-missing as equal. Mark candidate constant if instanceCount \u003e= minHits (default 5) and all instance values are deeply equal. Allow containers (objects/arrays) as values.","design":"Implement value comparison using a well-defined deep-equal (built-in or small dependency).","acceptance_criteria":"- Correctly counts instances for wildcards\n- Uses deep equality over JSON values (including containers)\n- Honors `minHits` (default 5, configurable)\n- Missing-vs-present prevents constancy; missing-vs-missing does not","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-15T08:08:59.817410466+07:00","updated_at":"2025-12-15T08:40:14.400444718+07:00","closed_at":"2025-12-15T08:40:14.400444718+07:00","dependencies":[{"issue_id":"jsnore-vsh.5","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.819764164+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.5","depends_on_id":"jsnore-vsh.4","type":"blocks","created_at":"2025-12-15T08:09:18.332962864+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.6","title":"Build a single json-mask expression with parentheses grouping","description":"Construct the final keep-mask as a single `json-mask` expression string. Prefer parentheses grouping when possible (e.g., `items/*(id,name)`), while preserving semantics. Ensure stable ordering and correct escaping.","design":"Model selection as a tree and render to json-mask using grouping.","acceptance_criteria":"- Emits a single valid `json-mask` expression string (not a separate list format)\n- Groups siblings with parentheses where possible\n- Uses deterministic ordering\n- Applies cleanly via `json-mask` to produce expected projection","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-15T08:08:59.866285232+07:00","updated_at":"2025-12-15T08:52:35.999825692+07:00","closed_at":"2025-12-15T08:52:35.999825692+07:00","dependencies":[{"issue_id":"jsnore-vsh.6","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.868531666+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.6","depends_on_id":"jsnore-vsh.2","type":"blocks","created_at":"2025-12-15T08:09:18.343410976+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.6","depends_on_id":"jsnore-vsh.5","type":"blocks","created_at":"2025-12-15T08:09:18.355759458+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.7","title":"Expose library API: deriveMask(doc, options)","description":"Provide the public TypeScript API to derive the `json-mask` projection from a JS value. Options include `minHits` and any other necessary knobs derived from the spec.","design":"Keep surface area small; avoid CLI-only concerns.","acceptance_criteria":"- Exported function derives deterministic mask\n- Default `minHits` is 5\n- API docs / types are clear","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-15T08:08:59.915126627+07:00","updated_at":"2025-12-15T09:03:41.668418547+07:00","closed_at":"2025-12-15T09:03:41.668418547+07:00","dependencies":[{"issue_id":"jsnore-vsh.7","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.917399665+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.7","depends_on_id":"jsnore-vsh.6","type":"blocks","created_at":"2025-12-15T08:09:18.371479323+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.8","title":"Implement CLI: derive and output slimmed JSON or mask (--mask)","description":"Implement CLI that reads one JSON document from stdin or first positional file argument. Default output is slimmed JSON (apply derived mask). With `--mask`, output the derived mask string only. Add `--min-hits`, `--pretty`, `--compact`.","design":"CLI is a thin wrapper around library + `json-mask` application.","acceptance_criteria":"- Reads from stdin when no positional arg\n- Reads from file when arg provided\n- `--mask` prints mask only\n- Default prints slimmed JSON\n- Supports `--min-hits` (default 5), `--pretty`, `--compact`","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-15T08:08:59.963627099+07:00","updated_at":"2025-12-15T09:12:40.948000847+07:00","closed_at":"2025-12-15T09:12:40.948000847+07:00","dependencies":[{"issue_id":"jsnore-vsh.8","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:08:59.966335942+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.8","depends_on_id":"jsnore-vsh.7","type":"blocks","created_at":"2025-12-15T08:09:18.401685772+07:00","created_by":"daemon"}]}
{"id":"jsnore-vsh.9","title":"Implement CLI: apply an explicit json-mask (--apply-mask)","description":"Add CLI option to apply a user-supplied `json-mask` expression to the input JSON and print the projection. This is separate from deriving a mask.","design":"Use `json-mask` for application; keep mode selection explicit.","acceptance_criteria":"- `--apply-mask \u003cexpr\u003e` applies mask and prints result\n- Compatible with `--pretty/--compact`\n- Clear error if `--apply-mask` conflicts with `--mask` (derive-only) or default derive+slim mode","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-15T08:09:00.00410512+07:00","updated_at":"2025-12-15T09:14:34.053299701+07:00","closed_at":"2025-12-15T09:14:34.053299701+07:00","dependencies":[{"issue_id":"jsnore-vsh.9","depends_on_id":"jsnore-vsh","type":"parent-child","created_at":"2025-12-15T08:09:00.005808267+07:00","created_by":"daemon"},{"issue_id":"jsnore-vsh.9","depends_on_id":"jsnore-vsh.8","type":"blocks","created_at":"2025-12-15T08:09:18.449546043+07:00","created_by":"daemon"}]}
